---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
export function getStaticPaths() {
  return [
    {params: {lang: 'en'}},
    {params: {lang: 'pl'}},
  ];
}

/**
 * Note that this function won't overwrite attributes,
 * but will add duplicate ones next to each other.
 * @link [source](https://ellodave.dev/blog/article/using-svgs-as-astro-components-and-inline-css/)
 */
 function addAttributesToInnerHTMLString(
    innerHTML: string, attributes: Record<string, string>
  ) {
  const attributesString = Object.entries(attributes)
    .map(([key, value]) => `${key}="${value}"`)
    .join(' ');
  return innerHTML.replace(/^<svg/, `<svg ${attributesString}`);
}

const { default: svgDataVis1Raw } = await import('/src/svg/icons/data-vis-1.svg?raw');
const { default: svgBlob1Raw } = await import('/src/svg/shapes/blob-1.svg?raw');
const { default: svgTodoLineRaw } = await import('/src/svg/icons/todo-line.svg?raw');
const { default: svgTimeLineRaw } = await import('/src/svg/icons/time-line.svg?raw');
const { default: svgHandCoinLineRaw } = await import('/src/svg/icons/hand-coin-line.svg?raw');

const svgDataVis1 = addAttributesToInnerHTMLString(svgDataVis1Raw, {width: "200", height: "200", fill: "#b0dbff"});
const svgBlob1 = addAttributesToInnerHTMLString(svgBlob1Raw, {width: "450", height: "450"});
const svgTodoLine = addAttributesToInnerHTMLString(svgTodoLineRaw, {});
const svgTimeLine = addAttributesToInnerHTMLString(svgTimeLineRaw, {});
const svgHandCoinLine = addAttributesToInnerHTMLString(svgHandCoinLineRaw, {width: "72", height: "72"});
---

<Layout title="">
	<Header/>
  <!-- ############### -->
  <!-- hero -->
  <section id="hero" class="hero d-flex align-items-center">
    <div class="container w-75 mx-auto">
      <div class="row">
        <div class="col-lg-6 d-flex flex-column justify-content-center one">
          <h1 data-aos="fade-up">
            {lang === "pl" && <span>
              {t('tp.hero_h1')}<span class="blue-span"> {t('tp.hero_h1_bold')}</span></span>} 
            {lang === "en" && <span>
              <span class="blue-span">{t('tp.hero_h1_bold')}</span> {t('tp.hero_h1')}</span>}
          </h1>
          <h2 data-aos="fade-up" data-aos-delay="400">
            {t('tp.hero_h2')}
          </h2>
          <div data-aos="fade-up" data-aos-delay="600">
            <div class="text-center text-lg-start">
              <a
                href="mailto:office@tipi.software"
                class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center"
                ><span>{t('common.contact_us')}</span>
                <i class="ri-send-plane-line"></i
              ></a>
            </div>
          </div>
        </div>
        <div
        class="col-lg-6 hero-img two"
          data-aos="zoom-out"
          data-aos-delay="200"
          >
          <div class="blob-box">
            <div class="blob">
              <div class="gooey"></div>
            </div>
          </div>
          <div class="hero-stack-top">
            <Fragment set:html={svgDataVis1} />
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <main id="main">
    <!-- ############### -->
    <!-- experience -->
    <section class="experience">
      <div class="container">
        <div class="col-8 mx-auto">
          <header class="section-header">
            <h3>{t('tp.experience_h')}</h3>
            <p>{t('tp.experience_p')}</p>
          </header>
        </div>
      </div>
    </section>

    <!-- ############### -->
    <!-- how-we-can-help -->
    <section class="how-we-can-help">
      <div class="col-xl-8 mx-auto">
        <div class="container" rcomponent="reusable/PointsNextToImg.jsx">
          <div class="row feature-icons aos-init aos-animate" data-aos="fade-up">
            <header class="section-header">
              <h2>{t('common.hcwh_h2')} <span class="blue-span">{t('common.hcwh_h2_bold')}</span></h2>
            </header>
            <div class="row">
              <div
                class="col-xl-6 text-center aos-init aos-animate"
                data-aos="fade-right"
                data-aos-delay="100"
              >
                <div class="blob-wrapper">
                  <div class="blob-2">
                    <span style="color: #e7f4ff">
                        <Fragment set:html={svgBlob1} />
                      </span>
                      <div class="stack-top">
                        <!-- thumbs-up -->
                        <svg viewBox="0 0 24 24" width="175" height="175">
                          <!-- https://icon-sets.iconify.design/lucide/?query=thumbs-up -->
                          <path 
                              fill="none"
                              stroke="#0581d9"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M7 10v12m8-16.12L14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z" />
                        </svg>
                      </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-6 d-flex content">
                <div class="row">
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="0"
                  >
                  <br><br>
                  <div>
                    <h4>{t('tp.hcwh_line1_h')}</h4>
                    <p>{t('tp.hcwh_line1_p')}</p>
                    </div>
                  </div>
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="100"
                  >
                    <i class=""></i>
                    <div>
                      <h4></h4>
                      <p></p>
                    </div>
                  </div>
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="200"
                  >
                    <div>
                      <h4>{t('tp.hcwh_line2_h')}</h4>
                      <p>{t('tp.hcwh_line2_p')}</p>
                    </div>
                  </div>
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="300"
                  >
                    <i class=""></i>
                    <div>
                      <h4></h4>
                      <p></p>
                    </div>
                  </div>
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="400"
                  >
                    <div>
                      <h4>{t('tp.hcwh_line3_h')}</h4>
                      <p>{t('tp.hcwh_line3_p')}</p>
                    </div>
                  </div>
                  <div
                    class="icon-box aos-init aos-animate"
                    data-aos="fade-up"
                    data-aos-delay="500"
                  >
                    <i class=""></i>
                    <div>
                      <h4></h4>
                      <p></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ############### -->
    <!-- benefits -->
    <section id="benefits" class="reusable-boxes d-flex align-items-center">
      <div class="container" rcomponent="reusable/Boxes.jsx">
        <header class="section-header">
          <h2>
            {t('tp.benefits_h2_pre')} <span class="blue-span">{t('tp.benefits_h2_bold')}</span> {t('tp.benefits_h2_post')}
          </h2>
        </header>
        <div class="row">
          <div
          class="col-lg-4 col-md-6 aos-init aos-animate"
          data-aos="fade-up"
            data-aos-delay="200"
            >
            <div class="box">
              <Fragment set:html={svgTodoLine} />
              <h3>{t('tp.benefits_card1_h')}</h3>
              <p>{t('tp.benefits_card1_p')}</p>
            </div>
          </div>
          <div
          class="col-lg-4 col-md-6 aos-init aos-animate"
            data-aos="fade-up"
            data-aos-delay="200"
          >
          <div class="box">
              <Fragment set:html={svgTimeLine} />
              <h3>{t('tp.benefits_card2_h')}</h3>
              <p>{t('tp.benefits_card2_p')}</p>
            </div>
          </div>
          <div
          class="col-lg-4 col-md-6 aos-init aos-animate"
          data-aos="fade-up"
          data-aos-delay="200"
          >
          <div class="box">
              <Fragment set:html={svgHandCoinLine} />
              <h3>{t('tp.benefits_card3_h')}</h3>
              <p>{t('tp.benefits_card3_p')}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    
	</main>
</Layout>
